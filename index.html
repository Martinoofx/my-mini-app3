<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Mini App</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Welcome to My Mini App</h1>
    <p>Balance: 0.53 TON | Hashrate: 13 GH/s</p>
    
    <button id="boostHashrate">Boost Your Hashrate</button>

    <!-- Cards for GPU renting -->
    <div id="cards">
      <div class="card" onclick="selectCard('Core i9')">
        <img src="images/corei9.png" alt="corei9.png">
        <h3>Core i9 - 10 GH/s</h3>
        <p>Price: 60,000 TON</p>
      </div>
      <div class="card" onclick="selectCard('RTX 4090')">
        <img src="images/rtx4090.png" alt="rtx4090.png">
        <h3>RTX 4090 - 100 GH/s</h3>
        <p>Price: 500,000 TON</p>
      </div>
      <div class="card" onclick="selectCard('A100 GPU')">
        <img src="images/a100gpu.png" alt="a100gpu.png">
        <h3>A100 GPU - 1000 GH/s</h3>
        <p>Price: 5,000,000 TON</p>
      </div>
    </div>

    <!-- Selected card details -->
    <div id="selectedCardDetails">
      <h2>Selected Card: <span id="selectedCardName">None</span></h2>
      <img id="selectedCardImage" src="" alt="Selected Card" />
      <p>Rent Period: 30 Days</p>
      <p>Daily Profit: <span id="dailyProfit"></span></p>
      <p>Total Profit: <span id="totalProfit"></span></p>
      <p>Price: <span id="price"></span> TON</p>
      <button onclick="confirmRent()">Rent Miner</button>
    </div>
  </div>

  <script src="app.js"></script>

  <script>
    // Felhasználó kártya kiválasztása
    function selectCard(cardName) {
      document.getElementById("selectedCardName").innerText = cardName;
      // Itt változtathatsz az árakon, napi profiton, stb.
    }

    // Rent Miner gomb meghívása
    function confirmRent() {
      const selectedCard = document.getElementById("selectedCardName").innerText;
      const price = document.getElementById("price").innerText;

      // Küldd el a backendnek az adatokat a Binance Pay tranzakcióhoz
      fetch('/initiate-payment', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          card: selectedCard,
          price: price
        })
      })
      .then(response => response.json())
      .then(data => {
        // Ha a backend visszaadja a fizetési linket, irányítsd át
        window.location.href = data.paymentLink;
      })
      .catch(error => {
        console.error('Error initiating payment:', error);
      });
    }
  </script>
</body>
</html>
